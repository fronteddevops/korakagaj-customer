(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[493],{1293:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/ReviewRetting",function(){return t(8963)}])},8963:function(e,n,t){"use strict";t.r(n);var i=t(4051),s=t.n(i),r=t(5893),a=t(7294),l=t(1312),c=t(297),d=t(1163),o=t(7699),u=t(2702),v=t.n(u),h=t(7421),m=t(2920),f=t(1664),x=t.n(f);function p(e,n,t,i,s,r,a){try{var l=e[r](a),c=l.value}catch(d){return void t(d)}l.done?n(c):Promise.resolve(c).then(i,s)}function j(e){return function(){var n=this,t=arguments;return new Promise((function(i,s){var r=e.apply(n,t);function a(e){p(r,i,s,a,l,"next",e)}function l(e){p(r,i,s,a,l,"throw",e)}a(void 0)}))}}var w=function(){var e,n,t,i=(0,h.$G)("common").t,u=(0,d.useRouter)(),f=(0,a.useState)(),p=f[0],w=f[1],g=(0,a.useState)(),N=g[0],y=g[1],b=(0,a.useState)(""),_=b[0],R=b[1],k=(0,a.useState)(""),P=k[0],C=k[1],E=(0,a.useState)(0),S=E[0],I=E[1],T=null===u||void 0===u||null===(e=u.query)||void 0===e?void 0:e.orderID,O=null===u||void 0===u||null===(n=u.query)||void 0===n?void 0:n.product,A=v().BASE_URL_UPLOADS,D=function(){var e=j(s().mark((function e(){var n,t,i,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=4,o.Z.product.GET_PRODUCT_BY_ID(O);case 4:r=e.sent,w(null===r||void 0===r||null===(n=r.data)||void 0===n?void 0:n.data[0]),I(null===(i=null===r||void 0===r||null===(t=r.data)||void 0===t?void 0:t.data[0])||void 0===i?void 0:i.averageRating),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=j(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={orderId:T,productId:O,review:_,ratings:N,status:!0,orderDetailId:new URLSearchParams(window.location.search).get("OrderdetailsId")},e.next=4,o.Z.review.POST_REVIEW_BY_USER(n);case 4:e.sent&&(y(""),R(""),m.Am.success("Review rating has been submitted successfully"),setTimeout((function(){u.push("/myprofile/?index=2")}),1e3)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();(0,a.useEffect)((function(){D()}),[O,S]);return(0,r.jsx)(c.Z,{parent:i("Home"),sub:(0,r.jsx)(x(),{href:"/myprofile?index=2",children:i("Pages")}),subChild:i("Review Reting"),children:(0,r.jsx)("div",{className:"d-flex-inline-block justify-content-center align-item-center ",children:(0,r.jsx)("div",{className:"container m-20 p-20 w-50 ",children:(0,r.jsxs)("div",{className:"container m-20 p-20",children:[(0,r.jsxs)("div",{className:"card shadow",children:[(0,r.jsx)("div",{className:"card-header bg-primary text-white",children:(0,r.jsx)("h3",{className:"fw-bold",children:null===p||void 0===p||null===(t=p.Product)||void 0===t?void 0:t.brandName})}),(0,r.jsx)("div",{className:"card-body",children:(0,r.jsxs)("div",{className:"d-flex justify-content-start align-items-center",children:[(0,r.jsx)("div",{className:"me-3",children:(0,r.jsx)("img",{className:"rounded",crossOrigin:"anonymous",src:A+(null===p||void 0===p?void 0:p.featuredImage),alt:"Product Image",height:"150",width:"150"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h5",{className:"card-title",children:null===p||void 0===p?void 0:p.productName}),(0,r.jsxs)("p",{className:"fw-bold",children:[i("Price:")," ",null===p||void 0===p?void 0:p.finalAmount]}),(0,r.jsxs)("div",{className:"d-flex align-items-center",children:[(0,r.jsxs)("span",{className:"fw-bold me-2",children:[i("Rating & Review"),":"," "]}),(0,r.jsx)(l.Z,{value:S,count:5,size:24,activeColor:"#ffd700",isHalf:!0,edit:!1})]})]})]})})]}),(0,r.jsxs)("div",{className:"contanier d-flex-inline-block justify-content-center align-item-center p-20",children:[(0,r.jsxs)("div",{className:"",children:[(0,r.jsx)("h4",{children:i("Rating star")}),(0,r.jsx)("div",{className:"mt-10 p-10",children:(0,r.jsx)(l.Z,{count:5,onChange:function(e){y(e<1?"":e)},size:37,activeColor:"#ffd700"})})]}),(0,r.jsxs)("div",{className:"mt-10",children:[(0,r.jsx)("h4",{children:i("Add a written review")}),(0,r.jsx)("textarea",{className:"form-control mt-10",value:_,onChange:function(e){R(e.target.value.trim()),e.target.value.trim()&&R(e.target.value),0===e.target.value.length?C("Required"):C("")},placeholder:i("What did you like or dislike? What did you use this product for"),id:"exampleFormControlTextarea1",style:{height:"100px"},rows:"5",cols:"10"}),P&&(0,r.jsx)("span",{className:"text-danger",style:{position:"absolute"},children:P}),(0,r.jsxs)("div",{className:"mt-10",style:{display:"flex",justifyContent:"center"},children:[" ",(0,r.jsx)("button",{className:"btn btn-primary float-end",disabled:!(N&&_),onClick:U,children:i("Submit Review")})]})]})]}),(0,r.jsx)("div",{})]})})})})};w.propTypes={},w.defaultProps={},n.default=w}},function(e){e.O(0,[664,618,699,695,774,888,179],(function(){return n=1293,e(e.s=n);var n}));var n=e.O();_N_E=n}]);