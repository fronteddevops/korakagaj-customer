(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[247],{8024:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/shop-cart",function(){return a(8187)}])},8187:function(e,t,a){"use strict";a.r(t);var s=a(4051),r=a.n(s),n=a(5893),c=a(2664),l=a(297),i=a(2702),o=a.n(i),d=a(1664),u=a.n(d),m=a(2920),h=a(7294),x=a(3436),f=a(7421);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,s=new Array(t);a<t;a++)s[a]=e[a];return s}function j(e,t,a,s,r,n,c){try{var l=e[n](c),i=l.value}catch(o){return void a(o)}l.done?t(i):Promise.resolve(i).then(s,r)}function v(e){return function(){var t=this,a=arguments;return new Promise((function(s,r){var n=e.apply(t,a);function c(e){j(n,s,r,c,l,"next",e)}function l(e){j(n,s,r,c,l,"throw",e)}c(void 0)}))}}function g(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return p(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return p(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}t.default=(0,c.$j)((function(e){return{cartItems:e.cart,activeCart:e.counter}}),{})((function(e){e=null!==e?e:function(e){throw e}(new TypeError("Cannot destructure undefined"));var t=(0,f.$G)("common").t,a=o().BASE_URL_UPLOADS,s=(0,h.useState)([]),c=s[0],i=s[1],d=(0,h.useState)(1),p=d[0],j=d[1],N=function(e){var t=e.map((function(e){return e.finalAmount*e.selectedQuantity})),a=t.reduce((function(e,t){return e+t}),0);console.log(t,a),j(a)};(0,h.useEffect)((function(){b()}),[]);var b=function(){var e=v(r().mark((function e(){var t,a,s,n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("access_token")){e.next=13;break}return e.prev=1,e.next=4,x.Z.cart.GET_CART();case 4:(t=e.sent)&&(i(null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.data[0].cartDetail.cartDetails),N(null===t||void 0===t||null===(s=t.data)||void 0===s?void 0:s.data[0].cartDetail.cartDetails)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:e.next=14;break;case 13:localStorage.getItem("cartDetail")&&(n=localStorage.getItem("cartDetail")&&JSON.parse(localStorage.getItem("cartDetail")),i(n.cartDetails));case 14:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=v(r().mark((function e(t){var a,s,n,c,l,i,o,d,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("access_token")){e.next=19;break}return e.next=3,x.Z.cart.GET_CART();case 3:return a=e.sent,s=[],a.data.data[0].cartDetail&&(s=a.data.data[0].cartDetail.cartDetails),null===s||void 0===s||s.push(t),"id",n=g(new Map(null===s||void 0===s?void 0:s.map((function(e){return[e.id,e]}))).values()),c={cartDetail:{cartDetails:n}},console.log(c),e.next=13,x.Z.cart.UPDATE_CART(c);case 13:l=e.sent,console.log(l),m.Am.success("Cart updated!"),b(),e.next=20;break;case 19:i=localStorage.getItem("cartDetail")&&JSON.parse(localStorage.getItem("cartDetail")),o=[],i&&(o=i.cartDetails),o.push(t),"id",d=g(new Map(o.map((function(e){return[e.id,e]}))).values()),u={cartDetail:{cartDetails:d}},localStorage.setItem("cartDetail",JSON.stringify(u.cartDetail)),m.Am.success("Cart updated!"),b();case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=v(r().mark((function e(){var t,a,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("access_token")){e.next=11;break}return t={cartDetail:{cartDetails:[]}},console.log(t),e.next=5,x.Z.cart.UPDATE_CART(t);case 5:a=e.sent,console.log(a),m.Am.success("Cart updated!"),b(),e.next=12;break;case 11:s={cartDetail:{cartDetails:[]}},localStorage.setItem("cartDetail",JSON.stringify(s.cartDetail)),m.Am.success("Cart updated!"),b();case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=v(r().mark((function e(t){var a,s,n,l,i,o,d;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("access_token")){e.next=16;break}return a=g(c),c.map((function(e,a){e.id==t.id&&(s=a)})),a.splice(s,1),console.log(c,a),n={cartDetail:{cartDetails:a}},console.log(n),e.next=10,x.Z.cart.UPDATE_CART(n);case 10:l=e.sent,console.log(l),m.Am.success("Cart updated!"),b(),e.next=17;break;case 16:i=g(c),c.map((function(e,a){e.id==t.id&&(o=a)})),i.splice(o,1),d={cartDetail:{cartDetails:i}},localStorage.setItem("cartDetail",JSON.stringify(d.cartDetail)),m.Am.success("Cart updated!"),b();case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=localStorage.getItem("access_token"),D=function(){var e=v(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.Z.cart.CHECKOUT();case 2:t=e.sent,console.log(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(l.Z,{parent:t("Home"),sub:(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("a",{href:"/products",children:[" ",t("Product")]})}),subChild:t("Cart"),children:(0,n.jsx)("section",{className:"mt-50 mb-50",children:(0,n.jsx)("div",{className:"container",children:(0,n.jsx)("div",{className:"row",children:(0,n.jsxs)("div",{className:"col-12",children:[(0,n.jsxs)("div",{className:"table-responsive",children:[c.length<=0&&t("No Products"),(0,n.jsxs)("table",{className:(null===c||void 0===c?void 0:c.length)>0?"table shopping-summery text-center clean":"d-none",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{className:"main-heading",children:[(0,n.jsx)("th",{scope:"col",children:t("Image")}),(0,n.jsx)("th",{scope:"col",children:t("Name")}),(0,n.jsx)("th",{scope:"col",children:t("Price")}),(0,n.jsx)("th",{scope:"col",children:t("Quantity")}),(0,n.jsx)("th",{scope:"col",children:t("Subtotal")}),(0,n.jsx)("th",{scope:"col",children:t("Remove")})]})}),(0,n.jsxs)("tbody",{children:[c&&c.map((function(e,t){return(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{className:"image product-thumbnail",children:(0,n.jsx)("img",{src:a+e.featuredImage,alt:"",crossOrigin:"anonymous"})}),(0,n.jsxs)("td",{className:"product-des product-name",children:[(0,n.jsx)("h5",{className:"product-name",children:(0,n.jsx)(u(),{href:"/products/[slug]",as:"/products/".concat(null===e||void 0===e?void 0:e.id),children:(0,n.jsx)("a",{children:e.productName})})}),(null===e||void 0===e?void 0:e.selectedColor)||(null===e||void 0===e?void 0:e.selectedSize)?(0,n.jsxs)("p",{className:"font-xs",children:[(null===e||void 0===e?void 0:e.selectedColor)&&(0,n.jsxs)(n.Fragment,{children:["Color : ",null===e||void 0===e?void 0:e.selectedColor," ",(0,n.jsx)("br",{})]}),(null===e||void 0===e?void 0:e.selectedSize)&&(0,n.jsxs)(n.Fragment,{children:["Size : ",null===e||void 0===e?void 0:e.selectedSize," ",(0,n.jsx)("br",{})]})]}):null]}),(0,n.jsx)("td",{className:"price","data-title":"Price",children:(0,n.jsxs)("span",{children:["$",e.finalAmount]})}),(0,n.jsx)("td",{className:"text-center","data-title":"Stock",children:(0,n.jsxs)("div",{className:"detail-qty border radius m-auto",children:[(0,n.jsx)("a",{onClick:function(t){return function(e){e.selectedQuantity=e.selectedQuantity-1,_(e)}(e)},className:"qty-down",children:(0,n.jsx)("i",{className:"fi-rs-angle-small-down"})}),(0,n.jsx)("span",{className:"qty-val",children:e.selectedQuantity}),(0,n.jsx)("a",{onClick:function(t){return function(e){e.selectedQuantity=e.selectedQuantity+1,_(e)}(e)},className:"qty-up",children:(0,n.jsx)("i",{className:"fi-rs-angle-small-up"})})]})}),(0,n.jsx)("td",{className:"text-right","data-title":"Cart",children:(0,n.jsxs)("span",{children:["$",e.finalAmount*e.selectedQuantity]})}),(0,n.jsx)("td",{className:"action","data-title":"Remove",children:(0,n.jsx)("a",{onClick:function(t){return S(e)},className:"text-muted",children:(0,n.jsx)("i",{className:"fi-rs-trash"})})})]},t)})),(0,n.jsx)("tr",{children:(0,n.jsx)("td",{colSpan:"6",className:"text-end",children:c.length>0&&(0,n.jsxs)("a",{onClick:y,className:"text-muted",children:[(0,n.jsx)("i",{className:"fi-rs-cross-small"}),"Clear Cart"]})})})]})]})]}),(0,n.jsx)("div",{className:"cart-action text-end",children:(0,n.jsx)(u(),{className:"btn",href:"/products",children:(0,n.jsxs)("button",{className:"btn",children:[(0,n.jsx)("i",{className:"fi-rs-shopping-bag mr-10"}),t("Continue Shopping")]})})}),(0,n.jsx)("div",{className:"divider center_icon mt-50 mb-50",children:(0,n.jsx)("i",{className:"fi-rs-fingerprint"})}),(0,n.jsxs)("div",{className:"row mb-50",children:[(0,n.jsxs)("div",{className:"col-lg-6 col-md-12",children:[(0,n.jsx)("div",{className:"heading_s1 mb-3",children:(0,n.jsx)("h4",{children:"Select Address"})}),(0,n.jsxs)("form",{className:"field_form shipping_calculator",children:[(0,n.jsx)("div",{className:"form-row",children:(0,n.jsx)("div",{className:"form-group col-lg-12",children:(0,n.jsx)("div",{className:"custom_select",children:(0,n.jsxs)("select",{className:"form-control select-active",children:[(0,n.jsx)("option",{value:"",children:t("Choose a option...")}),(0,n.jsx)("option",{value:"AX",children:"India"})]})})})}),(0,n.jsx)("div",{className:"form-row",children:(0,n.jsx)("div",{className:"form-group col-lg-12",children:(0,n.jsxs)("button",{className:"btn btn-sm w-100",children:[(0,n.jsx)("i",{className:"fi-rs-shuffle mr-10"}),"Add new address"]})})})]})]}),(0,n.jsx)("div",{className:"col-lg-6 col-md-12",children:(0,n.jsxs)("div",{className:"border p-md-4 p-30 border-radius cart-totals",children:[(0,n.jsx)("div",{className:"heading_s1 mb-3",children:(0,n.jsx)("h4",{children:t("Cart Totals")})}),(0,n.jsx)("div",{className:"table-responsive",children:(0,n.jsx)("table",{className:"table",children:(0,n.jsxs)("tbody",{children:[(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{className:"cart_total_label",children:t("Cart Subtotal")}),(0,n.jsx)("td",{className:"cart_total_amount",children:(0,n.jsxs)("span",{className:"font-lg fw-900 text-brand",children:["$ ",p]})})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{className:"cart_total_label",children:t("Shipping")}),(0,n.jsxs)("td",{className:"cart_total_amount",children:[(0,n.jsx)("i",{className:"ti-gift mr-5"}),t("Free Shipping")]})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{className:"cart_total_label",children:t("Total")}),(0,n.jsx)("td",{className:"cart_total_amount",children:(0,n.jsx)("strong",{children:(0,n.jsxs)("span",{className:"font-xl fw-900 text-brand",children:["$",p]})})})]})]})})}),C?(0,n.jsxs)("a",{onClick:function(){return D()},href:"#",className:"btn ",children:[(0,n.jsx)("i",{className:"fi-rs-box-alt mr-10"}),t("Proceed To CheckOut")]}):(0,n.jsx)(u(),{className:"btn",href:"/login",children:(0,n.jsxs)("a",{href:"#",className:"btn ",children:[(0,n.jsx)("i",{className:"fi-rs-box-alt mr-10"}),t("Proceed to Login")]})})]})})]})]})})})})})})}))}},function(e){e.O(0,[664,30,436,695,774,888,179],(function(){return t=8024,e(e.s=t);var t}));var t=e.O();_N_E=t}]);