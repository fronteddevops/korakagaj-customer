(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[493],{1293:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/ReviewRetting",function(){return t(8963)}])},8963:function(e,n,t){"use strict";t.r(n);var s=t(4051),i=t.n(s),a=t(5893),r=t(7294),l=t(1312),c=t(297),d=t(1163),o=t(3436),u=t(2702),v=t.n(u),h=t(7421),m=t(2920);function f(e,n,t,s,i,a,r){try{var l=e[a](r),c=l.value}catch(d){return void t(d)}l.done?n(c):Promise.resolve(c).then(s,i)}function x(e){return function(){var n=this,t=arguments;return new Promise((function(s,i){var a=e.apply(n,t);function r(e){f(a,s,i,r,l,"next",e)}function l(e){f(a,s,i,r,l,"throw",e)}r(void 0)}))}}var p=function(){var e,n,t,s=(0,h.$G)("common").t,u=(0,d.useRouter)(),f=(0,r.useState)(),p=f[0],j=f[1],N=(0,r.useState)(),g=N[0],w=N[1],b=(0,r.useState)(""),y=b[0],_=b[1],R=(0,r.useState)(""),k=R[0],E=R[1],P=(0,r.useState)(0),C=P[0],S=P[1],T=null===u||void 0===u||null===(e=u.query)||void 0===e?void 0:e.orderID,I=null===u||void 0===u||null===(n=u.query)||void 0===n?void 0:n.product,O=v().BASE_URL_UPLOADS,A=function(){var e=x(i().mark((function e(){var n,t,s,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=4,o.Z.product.GET_PRODUCT_BY_ID(I);case 4:a=e.sent,j(null===a||void 0===a||null===(n=a.data)||void 0===n?void 0:n.data[0]),S(null===(s=null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.data[0])||void 0===s?void 0:s.averageRating),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=x(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={orderId:T,productId:I,review:y,ratings:g,status:!0},e.next=4,o.Z.review.POST_REVIEW_BY_USER(n);case 4:e.sent&&(w(""),_(""),m.Am.success("Review rating has been submitted successfully"),setTimeout((function(){u.push("/myprofile/?index=2")}),1e3)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){A()}),[I,C]);return(0,a.jsx)(c.Z,{parent:s("Home"),sub:(0,a.jsxs)("a",{href:"/myprofile?index=2",children:[" ",(0,a.jsx)(a.Fragment,{children:s("Pages")})]}),subChild:s("Review Reting"),children:(0,a.jsx)("div",{className:"d-flex-inline-block justify-content-center align-item-center ",children:(0,a.jsx)("div",{className:"container m-20 p-20 w-50 ",children:(0,a.jsxs)("div",{className:"container m-20 p-20",children:[(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("div",{className:"card-header",children:(0,a.jsxs)("h3",{className:"fw-bold",children:[" ",null===p||void 0===p||null===(t=p.Product)||void 0===t?void 0:t.brandName]})}),(0,a.jsx)("div",{className:"card-body",children:(0,a.jsxs)("div",{className:"d-flex justify-content-start align-item-center ",children:[(0,a.jsxs)("div",{className:" ",children:["  ",(0,a.jsx)("img",{className:"rounded",crossOrigin:"anonymous",src:O+(null===p||void 0===p?void 0:p.featuredImage),alt:"Image",height:120,width:250})]}),(0,a.jsxs)("div",{className:"ms-3",children:[(0,a.jsx)("h5",{className:"card-title",children:null===p||void 0===p?void 0:p.productName}),(0,a.jsx)("p",{className:"card-text",children:null===p||void 0===p?void 0:p.description}),(0,a.jsxs)("span",{className:"fw-bold",children:[s("Price :")," ",null===p||void 0===p?void 0:p.finalAmount]}),(0,a.jsxs)("div",{className:"d-flex ",children:[(0,a.jsx)("span",{className:"fw-bold",children:"Rating Review  :"})," \xa0",(0,a.jsx)("span",{className:"fw-bold",children:(0,a.jsx)(l.Z,{value:C,count:5,size:20,activeColor:"#ffd700",isHalf:!0,edit:!1})})]})]})]})})]}),(0,a.jsxs)("div",{className:"contanier d-flex-inline-block justify-content-center align-item-center p-20",children:[(0,a.jsxs)("div",{className:"",children:[(0,a.jsx)("h4",{children:s("Rating star")}),(0,a.jsx)("div",{className:"mt-10 p-10",children:(0,a.jsx)(l.Z,{count:5,onChange:function(e){w(e<1?"":e)},size:37,activeColor:"#ffd700"})})]}),(0,a.jsxs)("div",{className:"mt-10",children:[(0,a.jsx)("h4",{children:s("Add a written review")}),(0,a.jsx)("textarea",{className:"form-control mt-10",value:y,onChange:function(e){_(e.target.value.trim()),e.target.value.trim()&&_(e.target.value),0===e.target.value.length?E("Required"):E("")},placeholder:s("What did you like or dislike? What did you use this product for"),id:"exampleFormControlTextarea1",style:{height:"100px"},rows:"5",cols:"10"}),k&&(0,a.jsx)("span",{className:"text-danger",style:{position:"absolute"},children:k}),(0,a.jsxs)("div",{className:"mt-10",children:[" ",(0,a.jsx)("button",{className:"btn btn-primary float-end",disabled:!(g&&y),onClick:Z,children:s("Submit Review")})]})]})]}),(0,a.jsx)("div",{})]})})})})};p.propTypes={},p.defaultProps={},n.default=p}},function(e){e.O(0,[664,30,436,695,774,888,179],(function(){return n=1293,e(e.s=n);var n}));var n=e.O();_N_E=n}]);