(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{6429:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return r(4754)}])},4754:function(e,t,r){"use strict";r.r(t);var a=r(4051),n=r.n(a),s=r(5893),i=r(297),l=(r(4213),r(3436)),o=r(9603),c=r(9417),u=r(7294),d=r(2920),m=r(1163),h=r(7421);function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function p(e,t,r,a,n,s,i){try{var l=e[s](i),o=l.value}catch(c){return void r(c)}l.done?t(o):Promise.resolve(o).then(a,n)}function v(e){return function(){var t=this,r=arguments;return new Promise((function(a,n){var s=e.apply(t,r);function i(e){p(s,a,n,i,l,"next",e)}function l(e){p(s,a,n,i,l,"throw",e)}i(void 0)}))}}function x(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}t.default=function(){var e=(0,h.$G)("common").t,t=(0,u.useState)(""),r=t[0],a=t[1],g=(0,u.useState)(""),p=g[0],f=g[1],b=(0,m.useRouter)(),j=(0,u.useState)(""),w=j[0],N=j[1],y=(0,u.useState)(""),k=y[0],S=y[1],_=(0,u.useState)(!0),E=_[0],D=_[1],A=(0,u.useState)(!0),C=A[0],I=A[1],O=(0,u.useState)(!1),T=O[0],L=O[1],R=(0,u.useState)(!1),P=R[0],q=R[1],F=(0,u.useState)(""),G=F[0],Z=F[1],U=(0,u.useState)(""),$=U[0],z=U[1],H=function(e){var t,r;d.Am.error((null===(t=e.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"An error occurred")},K=function(){var e=v(n().mark((function e(t){var a,s,i,o;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===t||void 0===t||t.preventDefault(),a=!0,N(""),S(""),""===r?(N("Enter a valid email address"),a=!1):/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)||(N("Enter a valid email address"),a=!1),""===p&&(S("Please enter the password"),a=!1),!a){e.next=20;break}return e.prev=7,s={email:r,password:p,role:"Customer"},console.log(s),e.next=12,l.Z.auth.LOGIN_USER(s);case 12:(i=e.sent)&&(localStorage.setItem("userId",null===i||void 0===i||null===(o=i.data)||void 0===o?void 0:o.user.id),M(),D(!1),setTimeout((function(){b.push("/")}),1e3)),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(7),D(!0),W(e.t0);case 20:case"end":return e.stop()}}),e,null,[[7,16]])})));return function(t){return e.apply(this,arguments)}}(),M=(function(){var e=v(n().mark((function e(){var t,r,a,s,i,o,c;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("cartDetail")){e.next=19;break}return t=localStorage.getItem("cartDetail")&&JSON.parse(localStorage.getItem("cartDetail")),r=[],t&&t.cartDetails.length>0&&(r=t.cartDetails),e.next=6,l.Z.cart.GET_CART();case 6:return a=e.sent,s=[],a.data.data[0].cartDetail&&(s=a.data.data[0].cartDetail.cartDetails),s=x(s).concat(x(r)),"id",i=x(new Map(s.map((function(e){return[e.id,e]}))).values()),o={cartDetail:{cartDetails:i}},console.log(o),e.next=16,l.Z.cart.UPDATE_CART(o);case 16:c=e.sent,console.log(c),localStorage.removeItem("cartDetail");case 19:case"end":return e.stop()}}),e)})))}(),function(){return d.Am.success("Login User successfully")}),W=function(e){var t,r;d.Am.error((null===(t=e.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"An error occurred")},X=function(){var e=v(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I(!0),q(!0);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=v(n().mark((function e(t){var r,a,s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I(!1),t.preventDefault(),r=!0,z(""),""===G?(z("Enter a valid email address"),r=!1):/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(G)||(z("Enter a valid email address"),r=!1),!r){e.next=20;break}return e.prev=6,a={email:G},console.log(a),e.next=11,l.Z.auth.FORGOT_PASSWORD(a);case 11:(s=e.sent)?(d.Am.success("Email Sent successfully"),q(!1),I(!1)):alert(s.data.guide),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(6),H(e.t0),I(!0),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[6,15]])})));return function(t){return e.apply(this,arguments)}}();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.Ix,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),!1===P&&(0,s.jsx)(i.Z,{parent:e("Home"),sub:(0,s.jsx)("a",{href:"/login",children:e("Login")}),children:(0,s.jsx)("section",{className:"pt-100 pb-100 bg-image",style:{backgroundImage:"linear-gradient(0deg, rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url('assets/imgs/login-bg-2.jpg')"},children:(0,s.jsx)("div",{className:"container",children:(0,s.jsx)("div",{className:"row",children:(0,s.jsx)("div",{className:"col-lg-12 m-auto",children:(0,s.jsx)("div",{className:"row justify-content-around",children:(0,s.jsx)("div",{className:"col-lg-5",children:(0,s.jsx)("div",{className:"login_wrap widget-taber-content p-30 background-white border-radius-10 mb-md-5 mb-lg-0 mb-sm-5",children:(0,s.jsxs)("div",{className:"padding_eight_all bg-white",children:[(0,s.jsx)("div",{className:"heading_s1",children:(0,s.jsx)("h3",{className:"mb-30",children:e("Login")})}),(0,s.jsxs)("form",{method:"post",onSubmit:K,children:[(0,s.jsxs)("div",{className:"col-md-12 mt-4",children:[(0,s.jsx)("input",{type:"text",required:"",name:"email",placeholder:e("Your Email"),value:r,onChange:function(e){a(e.target.value.trim()),e.target.value.trim()&&a(e.target.value),0===e.target.value.length?N("Required"):N("")},onKeyDown:function(e){"Enter"===e.key?K():a(e.target.value)}}),w?(0,s.jsx)("div",{className:"error-message",children:(0,s.jsx)("span",{style:{color:"red",fontSize:"12px",position:"absolute"},children:w})}):null]}),(0,s.jsxs)("div",{className:"col-md-12 mt-4",children:[(0,s.jsx)("input",{required:"",type:T?"text":"password",name:"password",placeholder:e("Password"),onChange:function(e){f(e.target.value.trim()),e.target.value.trim()&&f(e.target.value),0===e.target.value.length?S("Required"):S("")},value:p,onKeyDown:function(e){"Enter"===e.key?K():f(e.target.value),e.target.value&&S("")},"aria-describedby":"password"}),(0,s.jsx)(o.G,{icon:T?c.Aq:c.Mdf,className:"icon-class",onClick:function(){L(!T)},style:{position:"absolute",cursor:"pointer",marginTop:"13px",width:"17px",marginLeft:"-29px"}}),k?(0,s.jsx)("div",{className:"error-message",children:(0,s.jsx)("span",{style:{color:"red",fontSize:"12px",position:"absolute"},children:k})}):null]}),"\xa0 \xa0 \xa0",(0,s.jsxs)("div",{className:"login_footer form-group",children:[(0,s.jsx)("div",{className:"chek-form",children:(0,s.jsxs)("div",{className:"custome-checkbox",children:[(0,s.jsx)("input",{className:"form-check-input",type:"checkbox",name:"checkbox",id:"exampleCheckbox1",value:""}),(0,s.jsx)("label",{className:"form-check-label",htmlFor:"exampleCheckbox1",children:(0,s.jsx)("span",{children:e("Remember me")})})]})}),(0,s.jsx)("span",{onClick:X,style:{cursor:"pointer"},children:e("Forgot password?")})]}),(0,s.jsx)("div",{className:"form-group",children:(0,s.jsx)("button",{type:"submit",className:"btn btn-fill-out btn-block hover-up w-100",name:"login",disabled:!(r&&p&&E),children:e("Log in")})})]}),(0,s.jsx)("div",{className:"divider-text-center mt-15 mb-15",children:(0,s.jsxs)("span",{children:[" ",e("or")]})}),(0,s.jsxs)("ul",{className:"btn-login list_none text-center mb-15",children:[(0,s.jsx)("li",{children:(0,s.jsx)("a",{href:"#",className:"btn btn-facebook hover-up mb-lg-0 mb-sm-4",children:e("Login With Facebook")})}),(0,s.jsx)("li",{children:(0,s.jsx)("a",{href:"#",className:"btn btn-google hover-up mt-2",children:e("Login With Google")})})]}),(0,s.jsxs)("div",{class:"text-muted text-center",children:[" ",e("Don't have an account ?"),"  ",(0,s.jsx)("a",{href:"/register",children:e("Sign up now")})]})]})})})})})})})})}),P&&(0,s.jsx)(i.Z,{parent:e("Home"),sub:(0,s.jsx)("a",{href:"/login",children:e("Login")}),children:(0,s.jsx)("section",{className:"pt-100 pb-100 bg-image",style:{backgroundImage:"linear-gradient(0deg, rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url('assets/imgs/login-bg-2.jpg')"},children:(0,s.jsx)("div",{className:"container",children:(0,s.jsx)("div",{className:"row",children:(0,s.jsx)("div",{className:"col-lg-12 m-auto",children:(0,s.jsx)("div",{className:"row justify-content-around",children:(0,s.jsx)("div",{className:"col-lg-5",children:(0,s.jsx)("div",{className:"login_wrap widget-taber-content p-30 background-white border-radius-10 mb-md-5 mb-lg-0 mb-sm-5",children:(0,s.jsxs)("div",{className:"padding_eight_all bg-white",children:[(0,s.jsx)("div",{className:"heading_s1",children:(0,s.jsx)("h4",{className:"mb-30",children:e("Enter your email to reset your password")})}),(0,s.jsxs)("form",{method:"post",onSubmit:Y,children:[(0,s.jsxs)("div",{className:"col-md-12 mt-4",children:[(0,s.jsx)("input",{type:"text",required:"",name:"email",placeholder:e("Your Email"),value:G,onChange:function(e){Z(e.target.value.trim()),I(!0),e.target.value.trim()&&Z(e.target.value),0===e.target.value.length?(z("Required"),I(!0)):z("")},onKeyDown:function(e){"Enter"===e.key?Y():Z(e.target.value)}}),$?(0,s.jsx)("div",{className:"error-message",children:(0,s.jsx)("span",{style:{color:"red",fontSize:"12px",position:"absolute"},children:$})}):null]}),"\xa0 \xa0 \xa0",(0,s.jsx)("div",{className:"form-group",children:(0,s.jsx)("button",{className:"btn btn-fill-out btn-block hover-up w-100",disabled:!(C&&G),children:e("Save")})})]})]})})})})})})})})})]})}}},function(e){e.O(0,[976,664,100,603,436,695,774,888,179],(function(){return t=6429,e(e.s=t);var t}));var t=e.O();_N_E=t}]);