(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3459],{6429:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return r(4754)}])},4754:function(e,t,r){"use strict";r.r(t);var n=r(4051),a=r.n(n),s=r(5893),o=r(297),l=(r(4213),r(3436)),i=r(9603),c=r(9417),u=r(7294),d=r(2920),m=r(1163),h=r(7421);function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t,r,n,a,s,o){try{var l=e[s](o),i=l.value}catch(c){return void r(c)}l.done?t(i):Promise.resolve(i).then(n,a)}function g(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var s=e.apply(t,r);function o(e){p(s,n,a,o,l,"next",e)}function l(e){p(s,n,a,o,l,"throw",e)}o(void 0)}))}}function f(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}t.default=function(){var e=(0,h.$G)("common").t,t=(0,u.useState)(""),r=t[0],n=t[1],v=(0,u.useState)(""),p=v[0],x=v[1],b=(0,m.useRouter)(),j=(0,u.useState)(!1),w=j[0],N=j[1],S=(0,u.useState)(""),y=S[0],k=S[1],_=(0,u.useState)(""),E=_[0],I=_[1],C=(0,u.useState)(!0),D=C[0],A=C[1],O=(0,u.useState)(!0),L=O[0],P=O[1],T=(0,u.useState)(!1),R=T[0],q=T[1],U=(0,u.useState)(!1),F=U[0],G=U[1],Z=(0,u.useState)(""),z=Z[0],M=Z[1],$=(0,u.useState)(""),H=$[0],K=$[1],W=function(e){var t,r;d.Am.error((null===(t=e.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"An error occurred")},X=function(){var e=g(a().mark((function e(t){var n,s,o,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===t||void 0===t||t.preventDefault(),n=!0,k(""),I(""),w?(localStorage.setItem("rememberedUsername",r),localStorage.setItem("rememberedPassword",p),localStorage.setItem("rememberMe",!0)):(localStorage.removeItem("rememberedUsername"),localStorage.removeItem("rememberedPassword"),localStorage.removeItem("rememberMe")),""===r?(k("Enter a valid email address"),n=!1):/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)||(k("Enter a valid email address"),n=!1),""===p&&(I("Please enter the password"),n=!1),!n){e.next=23;break}return e.prev=8,s={email:r.toLowerCase(),password:p,role:"Customer"},e.next=12,l.Z.auth.LOGIN_USER(s);case 12:return o=e.sent,e.next=15,Y();case 15:o&&(localStorage.setItem("userId",null===o||void 0===o||null===(i=o.data)||void 0===i?void 0:i.user.id),B(),A(!1),setTimeout((function(){b.push("/")}),1e3)),e.next=23;break;case 18:e.prev=18,e.t0=e.catch(8),console.log(e.t0),A(!0),J(e.t0);case 23:case"end":return e.stop()}}),e,null,[[8,18]])})));return function(t){return e.apply(this,arguments)}}();(0,u.useEffect)((function(){var e=localStorage.getItem("rememberedUsername"),t=localStorage.getItem("rememberedPassword");localStorage.getItem("rememberMe")&&(n(e||""),x(t||""),N(!0))}),[]);var Y=function(){var e=g(a().mark((function e(){var t,r,n,s,o,i,c,u,d,m,h,v,p;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!localStorage.getItem("cartDetail")){e.next=19;break}return o=localStorage.getItem("cartDetail")&&JSON.parse(localStorage.getItem("cartDetail")),i=[],o&&(null===o||void 0===o||null===(t=o.cartDetails)||void 0===t?void 0:t.length)>0&&(i=o.cartDetails),e.next=8,l.Z.cart.GET_CART();case 8:return c=e.sent,u=[],(null===c||void 0===c||null===(r=c.data)||void 0===r||null===(n=r.data)||void 0===n||null===(s=n.cartDetail)||void 0===s?void 0:s.cartDetails)&&(u=null===c||void 0===c||null===(d=c.data)||void 0===d||null===(m=d.data)||void 0===m||null===(h=m.cartDetail)||void 0===h?void 0:h.cartDetails),u=f(u).concat(f(i)),"id",v=u.filter((function(e,t,r){return t===r.findIndex((function(t){return t.id===e.id&&t.selectedSize===e.selectedSize&&t.selectedColor===e.selectedColor}))})),p={cartDetail:{cartDetails:v}},e.next=17,l.Z.cart.UPDATE_CART(p);case 17:e.sent,localStorage.removeItem("cartDetail");case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),console.log(e.t0);case 24:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(){return e.apply(this,arguments)}}(),B=function(){return d.Am.success("Login User successfully")},J=function(e){var t,r;d.Am.error((null===e||void 0===e||null===(t=e.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"An error occurred")},Q=function(){var e=g(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:P(!0),G(!0);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=g(a().mark((function e(t){var r,n,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(P(!1),t.preventDefault(),r=!0,K(""),""===z?(K("Enter a valid email address"),r=!1):/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(z)||(K("Enter a valid email address"),r=!1),!r){e.next=19;break}return e.prev=6,n={email:z.toLowerCase()},e.next=10,l.Z.auth.FORGOT_PASSWORD(n);case 10:(s=e.sent)?(d.Am.success("Email Sent successfully"),G(!1),P(!1)):alert(s.data.guide),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(6),W(e.t0),P(!0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t){return e.apply(this,arguments)}}();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.Ix,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),!1===F&&(0,s.jsx)(o.Z,{parent:e("Home"),sub:(0,s.jsx)("a",{href:"/login",children:e("Login")}),children:(0,s.jsx)("section",{className:"pt-100 pb-100 bg-image",children:(0,s.jsx)("div",{className:"container",children:(0,s.jsx)("div",{className:"row",children:(0,s.jsx)("div",{className:"col-lg-12 m-auto",children:(0,s.jsx)("div",{className:"row justify-content-around",children:(0,s.jsx)("div",{className:"col-lg-5",children:(0,s.jsx)("div",{className:"login_wrap widget-taber-content p-30 background-white border-radius-10 mb-md-5 mb-lg-0 mb-sm-5",children:(0,s.jsxs)("div",{className:"padding_eight_all bg-white",children:[(0,s.jsx)("div",{className:"heading_s1",children:(0,s.jsx)("h3",{className:"mb-30",children:e("Login")})}),(0,s.jsxs)("form",{method:"post",onSubmit:X,children:[(0,s.jsxs)("div",{className:"col-md-12 mt-4",children:[(0,s.jsx)("input",{type:"text",required:"",name:"email",placeholder:e("Your Email"),value:r,onChange:function(e){n(e.target.value.trim()),e.target.value.trim()&&n(e.target.value),0===e.target.value.length?k("Required"):k("")},onKeyDown:function(e){"Enter"===e.key?X():n(e.target.value)}}),y?(0,s.jsx)("div",{className:"error-message",children:(0,s.jsx)("span",{style:{color:"red",fontSize:"12px",position:"absolute"},children:y})}):null]}),(0,s.jsxs)("div",{className:"col-md-12 mt-4",children:[(0,s.jsx)("input",{required:"",type:R?"text":"password",name:"password",placeholder:e("Password"),onChange:function(e){x(e.target.value.trim()),e.target.value.trim()&&x(e.target.value),0===e.target.value.length?I("Required"):I("")},value:p,onKeyDown:function(e){"Enter"===e.key?X():x(e.target.value),e.target.value&&I("")},"aria-describedby":"password"}),(0,s.jsx)(i.G,{icon:R?c.Aq:c.Mdf,className:"icon-class",onClick:function(){q(!R)},style:{position:"absolute",cursor:"pointer",marginTop:"13px",width:"17px",marginLeft:"-29px"}}),E?(0,s.jsx)("div",{className:"error-message",children:(0,s.jsx)("span",{style:{color:"red",fontSize:"12px",position:"absolute"},children:E})}):null]}),"\xa0 \xa0 \xa0",(0,s.jsxs)("div",{className:"login_footer form-group",children:[(0,s.jsx)("div",{className:"chek-form",children:(0,s.jsxs)("div",{className:"custome-checkbox",children:[(0,s.jsx)("input",{className:"form-check-input",type:"checkbox",name:"checkbox",id:"exampleCheckbox1",checked:w,onChange:function(){return N(!w)}}),(0,s.jsx)("label",{className:"form-check-label",htmlFor:"exampleCheckbox1",children:(0,s.jsx)("span",{children:e("Remember me")})})]})}),(0,s.jsx)("span",{onClick:Q,style:{cursor:"pointer"},children:e("Forgot password?")})]}),(0,s.jsx)("div",{className:"form-group",children:(0,s.jsx)("button",{type:"submit",className:"btn btn-fill-out btn-block hover-up w-100",name:"login",disabled:!(r&&p&&D),children:e("Log in")})})]}),(0,s.jsx)("div",{className:"divider-text-center mt-15 mb-15",children:(0,s.jsxs)("span",{children:[" ",e("or")]})}),(0,s.jsxs)("ul",{className:"btn-login list_none text-center mb-15",children:[(0,s.jsx)("li",{children:(0,s.jsx)("a",{href:"#",className:"btn btn-facebook hover-up mb-lg-0 mb-sm-4",children:e("Login With Facebook")})}),(0,s.jsx)("li",{children:(0,s.jsx)("a",{href:"#",className:"btn btn-google hover-up mt-2",children:e("Login With Google")})})]}),(0,s.jsxs)("div",{className:"text-muted text-center",children:[" ",e("Don't have an account ?")," ",(0,s.jsx)("a",{href:"/register",children:e("Sign up now")})]})]})})})})})})})})}),F&&(0,s.jsx)(o.Z,{parent:e("Home"),sub:(0,s.jsx)("a",{href:"/login",children:e("Login")}),children:(0,s.jsx)("section",{className:"pt-100 pb-100 bg-image",children:(0,s.jsx)("div",{className:"container",children:(0,s.jsx)("div",{className:"row",children:(0,s.jsx)("div",{className:"col-lg-12 m-auto",children:(0,s.jsx)("div",{className:"row justify-content-around",children:(0,s.jsx)("div",{className:"col-lg-5",children:(0,s.jsx)("div",{className:"login_wrap widget-taber-content p-30 background-white border-radius-10 mb-md-5 mb-lg-0 mb-sm-5",children:(0,s.jsxs)("div",{className:"padding_eight_all bg-white",children:[(0,s.jsx)("div",{className:"heading_s1",children:(0,s.jsx)("h4",{className:"mb-30",children:e("Enter your email to reset your password")})}),(0,s.jsxs)("form",{method:"post",onSubmit:V,children:[(0,s.jsxs)("div",{className:"col-md-12 mt-4",children:[(0,s.jsx)("input",{type:"text",required:"",name:"email",placeholder:e("Your Email"),value:z,onChange:function(e){M(e.target.value.trim()),P(!0),e.target.value.trim()&&M(e.target.value),0===e.target.value.length?(K("Required"),P(!0)):K("")},onKeyDown:function(e){"Enter"===e.key?V():M(e.target.value)}}),H?(0,s.jsx)("div",{className:"error-message",children:(0,s.jsx)("span",{style:{color:"red",fontSize:"12px",position:"absolute"},children:H})}):null]}),"\xa0 \xa0 \xa0",(0,s.jsx)("div",{className:"form-group",children:(0,s.jsx)("button",{className:"btn btn-fill-out btn-block hover-up w-100",disabled:!(L&&z),children:e("Save")})})]})]})})})})})})})})})]})}}},function(e){e.O(0,[4976,1664,2750,9603,3436,695,9774,2888,179],(function(){return t=6429,e(e.s=t);var t}));var t=e.O();_N_E=t}]);