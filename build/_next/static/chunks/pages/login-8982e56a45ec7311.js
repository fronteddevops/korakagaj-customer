(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3459],{6429:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return r(4754)}])},4754:function(e,t,r){"use strict";r.r(t);var n=r(4051),a=r.n(n),s=r(5893),o=r(297),l=(r(4213),r(7699)),i=r(9603),c=r(9417),u=r(7294),d=r(2920),m=r(1163),v=r(7421),h=r(1664),p=r.n(h),f=r(6426),g=r(1202);function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b(e,t,r,n,a,s,o){try{var l=e[s](o),i=l.value}catch(c){return void r(c)}l.done?t(i):Promise.resolve(i).then(n,a)}function w(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var s=e.apply(t,r);function o(e){b(s,n,a,o,l,"next",e)}function l(e){b(s,n,a,o,l,"throw",e)}o(void 0)}))}}function j(e){return function(e){if(Array.isArray(e))return x(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return x(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}t.default=function(){var e=(0,v.$G)("common").t,t=(0,u.useState)(""),r=t[0],n=t[1],h=(0,u.useState)(""),x=h[0],b=h[1],S=(0,m.useRouter)(),y=(0,u.useState)(!1),k=y[0],N=y[1],I=(0,u.useState)(""),_=I[0],E=I[1],A=(0,u.useState)(""),C=A[0],D=A[1],T=(0,u.useState)(!0),R=T[0],O=T[1],P=(0,u.useState)(!0),U=P[0],Z=P[1],$=(0,u.useState)(!1),G=$[0],q=$[1],L=(0,u.useState)(!1),z=L[0],F=L[1],M=(0,u.useState)(""),J=M[0],K=M[1],H=(0,u.useState)(""),X=H[0],Y=H[1],W=function(e){var t,r;d.Am.error((null===(t=e.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"An error occurred")},B=function(){var e=w(a().mark((function e(t){var n,s,o,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===t||void 0===t||t.preventDefault(),n=!0,E(""),D(""),k?(localStorage.setItem("rememberedUsername",r),localStorage.setItem("rememberedPassword",x),localStorage.setItem("rememberMe",!0)):(localStorage.removeItem("rememberedUsername"),localStorage.removeItem("rememberedPassword"),localStorage.removeItem("rememberMe")),""===r?(E("Enter a valid email address"),n=!1):/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)||(E("Enter a valid email address"),n=!1),""===x&&(D("Please enter the password"),n=!1),!n){e.next=25;break}return e.prev=8,s={email:r.toLowerCase(),password:x,role:"Customer"},e.next=12,l.Z.auth.LOGIN_USER(s);case 12:return o=e.sent,e.next=15,Q();case 15:return e.next=17,ae();case 17:o&&(localStorage.setItem("userId",null===o||void 0===o||null===(i=o.data)||void 0===i?void 0:i.user.id),V(),O(!1),setTimeout((function(){S.push("/")}),1e3)),e.next=25;break;case 20:e.prev=20,e.t0=e.catch(8),console.error(e.t0),O(!0),ee(e.t0);case 25:case"end":return e.stop()}}),e,null,[[8,20]])})));return function(t){return e.apply(this,arguments)}}();(0,u.useEffect)((function(){var e=localStorage.getItem("rememberedUsername"),t=localStorage.getItem("rememberedPassword");localStorage.getItem("rememberMe")&&(n(e||""),b(t||""),N(!0))}),[]);var Q=function(){var e=w(a().mark((function e(){var t,r,n,s,o,i,c,u,d,m,v,h,p;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!localStorage.getItem("cartDetail")){e.next=20;break}return o=localStorage.getItem("cartDetail")&&JSON.parse(localStorage.getItem("cartDetail")),i=[],o&&(null===o||void 0===o||null===(t=o.cartDetails)||void 0===t?void 0:t.length)>0&&(i=o.cartDetails),e.next=8,l.Z.cart.GET_CART();case 8:return c=e.sent,u=[],(null===c||void 0===c||null===(r=c.data)||void 0===r||null===(n=r.data)||void 0===n||null===(s=n.cartDetail)||void 0===s?void 0:s.cartDetails)&&(u=null===c||void 0===c||null===(d=c.data)||void 0===d||null===(m=d.data)||void 0===m||null===(v=m.cartDetail)||void 0===v?void 0:v.cartDetails),u=j(u).concat(j(i)),"id",h=u.filter((function(e,t,r){return t===r.findIndex((function(t){return t.id===e.id&&t.selectedSize===e.selectedSize&&t.selectedColor===e.selectedColor&&t.fabric===e.fabric}))})),p={cartDetail:{cartDetails:h}},localStorage.setItem("cartItemsCount",h.length),e.next=18,l.Z.cart.UPDATE_CART(p);case 18:e.sent,localStorage.removeItem("cartDetail");case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(0),console.log(e.t0);case 25:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(){return e.apply(this,arguments)}}(),V=function(){return d.Am.success("Login User successfully")},ee=function(e){var t,r;d.Am.error((null===e||void 0===e||null===(t=e.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"An error occurred")},te=function(){var e=w(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Z(!0),F(!0);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=w(a().mark((function e(t){var r,n,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Z(!1),t.preventDefault(),r=!0,Y(""),""===J?(Y("Enter a valid email address"),r=!1):/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(J)||(Y("Enter a valid email address"),r=!1),!r){e.next=19;break}return e.prev=6,n={email:J.toLowerCase()},e.next=10,l.Z.auth.FORGOT_PASSWORD(n);case 10:(s=e.sent)?(d.Am.success("Email Sent successfully"),F(!1),Z(!1)):alert(s.data.guide),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(6),W(e.t0),Z(!0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=w(a().mark((function e(t,r,n,s){var o,i,c,u,m,v,h;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={email:t,gAuth:r,firstname:n,lastname:s},e.prev=1,e.next=4,l.Z.GoogleAuth.GoogleAuth(o);case 4:if(!(i=e.sent)){e.next=19;break}return localStorage.setItem("userId",null===i||void 0===i||null===(c=i.data)||void 0===c?void 0:c.user.id),localStorage.setItem("user",JSON.stringify(null===i||void 0===i||null===(u=i.data)||void 0===u?void 0:u.user)),(null===i||void 0===i||null===(m=i.data)||void 0===m||null===(v=m.tokens)||void 0===v||null===(h=v.access)||void 0===h?void 0:h.token)&&localStorage.setItem("access_token",i.data.tokens.access.token),d.Am.success("Login Successfully"),O(!1),e.next=14,Q();case 14:return e.next=16,ae();case 16:setTimeout((function(){S.push("/")}),1e3),e.next=20;break;case 19:alert(i.data.guide);case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(1),console.error(e.t0);case 25:case"end":return e.stop()}}),e,null,[[1,22]])})));return function(t,r,n,a){return e.apply(this,arguments)}}(),ae=function(){var e=w(a().mark((function e(){var t,r,n,s,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=4,l.Z.cart.GET_CART();case 4:o=e.sent,localStorage.setItem("cartItemsCount",null===o||void 0===o||null===(t=o.data)||void 0===t||null===(r=t.data)||void 0===r||null===(n=r.cartDetail)||void 0===n||null===(s=n.cartDetails)||void 0===s?void 0:s.length),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return(0,s.jsxs)(s.Fragment,{children:[!1===z&&(0,s.jsx)(o.Z,{parent:e("Home"),sub:(0,s.jsx)(p(),{href:"/login",as:"/login",children:e("Sign In")}),children:(0,s.jsx)("section",{className:"pt-100 pb-100 bg-image",children:(0,s.jsx)("div",{className:"container",children:(0,s.jsx)("div",{className:"row",children:(0,s.jsx)("div",{className:"col-lg-12 m-auto",children:(0,s.jsx)("div",{className:"row justify-content-around",children:(0,s.jsx)("div",{className:"col-lg-5",children:(0,s.jsx)("div",{className:"login_wrap widget-taber-content p-30 background-white border-radius-10 mb-md-5 mb-lg-0 mb-sm-5",children:(0,s.jsxs)("div",{className:"padding_eight_all bg-white",children:[(0,s.jsx)("div",{className:"heading_s1",children:(0,s.jsx)("h3",{className:"mb-30",children:e("Sign In")})}),(0,s.jsxs)("form",{method:"post",onSubmit:B,children:[(0,s.jsxs)("div",{className:"col-md-12 mt-4",children:[(0,s.jsx)("input",{type:"text",required:"",name:"email",placeholder:e("Your Email"),value:r,onChange:function(e){n(e.target.value.trim()),e.target.value.trim()&&n(e.target.value),0===e.target.value.length?E("Required"):E("")},onKeyDown:function(e){"Enter"===e.key?B():n(e.target.value)}}),_?(0,s.jsx)("div",{className:"error-message",children:(0,s.jsx)("span",{style:{color:"red",fontSize:"12px",position:"absolute"},children:_})}):null]}),(0,s.jsxs)("div",{className:"col-md-12 mt-4",children:[(0,s.jsx)("input",{required:"",type:G?"text":"password",name:"password",placeholder:e("Password"),onChange:function(e){b(e.target.value.trim()),e.target.value.trim()&&b(e.target.value),0===e.target.value.length?D("Required"):D("")},value:x,onKeyDown:function(e){"Enter"===e.key?B():b(e.target.value),e.target.value&&D("")},"aria-describedby":"password"}),(0,s.jsx)(i.G,{icon:G?c.Aq:c.Mdf,className:"icon-class",onClick:function(){q(!G)},style:{position:"absolute",cursor:"pointer",marginTop:"13px",width:"17px",marginLeft:"-29px"}}),C?(0,s.jsx)("div",{className:"error-message",children:(0,s.jsx)("span",{style:{color:"red",fontSize:"12px",position:"absolute"},children:C})}):null]}),"\xa0 \xa0 \xa0",(0,s.jsxs)("div",{className:"login_footer form-group",children:[(0,s.jsx)("div",{className:"chek-form",children:(0,s.jsxs)("div",{className:"custome-checkbox",children:[(0,s.jsx)("input",{className:"form-check-input",type:"checkbox",name:"checkbox",id:"exampleCheckbox1",checked:k,onChange:function(){return N(!k)}}),(0,s.jsx)("label",{className:"form-check-label",htmlFor:"exampleCheckbox1",children:(0,s.jsx)("span",{children:e("Remember me")})})]})}),(0,s.jsx)("span",{onClick:te,style:{cursor:"pointer"},children:e("Forgot password?")})]}),(0,s.jsx)("div",{className:"form-group",children:(0,s.jsx)("button",{type:"submit",className:"btn btn-fill-out btn-block hover-up w-100",name:"login",disabled:!(r&&x&&R),children:e("Sign In")})})]}),(0,s.jsx)("div",{className:"divider-text-center mt-15 mb-15",children:(0,s.jsxs)("span",{children:[" ",e("or")]})}),(0,s.jsx)("ul",{className:"btn-login list_none text-center mb-15",children:(0,s.jsx)("li",{children:(0,s.jsxs)("div",{children:[(0,s.jsx)(f.kZ,{onSuccess:function(e){null!=e.credential&&function(e){if(e){var t=(0,g.o)(null===e||void 0===e?void 0:e.credential);ne(t.email,null===t||void 0===t?void 0:t.sub,t.given_name,t.family_name)}}(e)},onError:function(){console.error("Login Failed")}}),";"]})})}),(0,s.jsxs)("div",{className:"text-muted text-center",children:[" ",e("Don't have an account ?")," ",(0,s.jsx)(p(),{href:"/register",as:"/register",children:e("Sign up now")})]})]})})})})})})})})}),z&&(0,s.jsx)(o.Z,{parent:e("Home"),sub:(0,s.jsx)(p(),{href:"/login",as:"/login",children:e("Sign In")}),children:(0,s.jsx)("section",{className:"pt-100 pb-100 bg-image",children:(0,s.jsx)("div",{className:"container",children:(0,s.jsx)("div",{className:"row",children:(0,s.jsx)("div",{className:"col-lg-12 m-auto",children:(0,s.jsx)("div",{className:"row justify-content-around",children:(0,s.jsx)("div",{className:"col-lg-5",children:(0,s.jsx)("div",{className:"login_wrap widget-taber-content p-30 background-white border-radius-10 mb-md-5 mb-lg-0 mb-sm-5",children:(0,s.jsxs)("div",{className:"padding_eight_all bg-white",children:[(0,s.jsx)("div",{className:"heading_s1",children:(0,s.jsx)("h4",{className:"mb-30",children:e("Enter your email to reset your password")})}),(0,s.jsxs)("form",{method:"post",onSubmit:re,children:[(0,s.jsxs)("div",{className:"col-md-12 mt-4",children:[(0,s.jsx)("input",{type:"text",required:"",name:"email",placeholder:e("Your Email"),value:J,onChange:function(e){K(e.target.value.trim()),Z(!0),e.target.value.trim()&&K(e.target.value),0===e.target.value.length?(Y("Required"),Z(!0)):Y("")},onKeyDown:function(e){"Enter"===e.key?re():K(e.target.value)}}),X?(0,s.jsx)("div",{className:"error-message",children:(0,s.jsx)("span",{style:{color:"red",fontSize:"12px",position:"absolute"},children:X})}):null]}),"\xa0 \xa0 \xa0",(0,s.jsx)("div",{className:"form-group",children:(0,s.jsx)("button",{className:"btn btn-fill-out btn-block hover-up w-100",disabled:!(U&&J),children:e("Save")})})]})]})})})})})})})})})]})}},1202:function(e,t,r){"use strict";r.d(t,{o:function(){return s}});class n extends Error{}function a(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return function(e){return decodeURIComponent(atob(e).replace(/(.)/g,((e,t)=>{let r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r})))}(t)}catch(r){return atob(t)}}function s(e,t){if("string"!==typeof e)throw new n("Invalid token specified: must be a string");t||(t={});const r=!0===t.header?0:1,s=e.split(".")[r];if("string"!==typeof s)throw new n(`Invalid token specified: missing part #${r+1}`);let o;try{o=a(s)}catch(l){throw new n(`Invalid token specified: invalid base64 for part #${r+1} (${l.message})`)}try{return JSON.parse(o)}catch(l){throw new n(`Invalid token specified: invalid json for part #${r+1} (${l.message})`)}}n.prototype.name="InvalidTokenError"}},function(e){e.O(0,[4976,1664,4554,9603,7699,8953,9774,2888,179],(function(){return t=6429,e(e.s=t);var t}));var t=e.O();_N_E=t}]);