(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[493],{1293:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/ReviewRetting",function(){return t(8963)}])},8963:function(e,n,t){"use strict";t.r(n);var i=t(4051),a=t.n(i),s=t(5893),l=t(7294),r=t(1312),d=t(297),o=t(1163),c=t(3436),u=t(2702),v=t.n(u),h=t(7421),m=t(2920);function f(e,n,t,i,a,s,l){try{var r=e[s](l),d=r.value}catch(o){return void t(o)}r.done?n(d):Promise.resolve(d).then(i,a)}function x(e){return function(){var n=this,t=arguments;return new Promise((function(i,a){var s=e.apply(n,t);function l(e){f(s,i,a,l,r,"next",e)}function r(e){f(s,i,a,l,r,"throw",e)}l(void 0)}))}}var p=function(){var e,n,t,i,u,f,p=(0,h.$G)("common").t,j=(0,o.useRouter)(),N=(0,l.useState)(),g=(N[0],N[1]),w=(0,l.useState)(),b=w[0],_=w[1],y=(0,l.useState)(),P=y[0],R=y[1],S=(0,l.useState)("good"),k=S[0],E=S[1],C=(0,l.useState)(""),T=C[0],I=C[1],O=(0,l.useState)(!0),A=O[0],D=O[1],Z=(0,l.useState)(),B=Z[0],L=Z[1],U=(0,l.useState)(),W=U[0],q=U[1],z=(0,l.useState)(),F=z[0],G=z[1],H=null===j||void 0===j||null===(e=j.query)||void 0===e?void 0:e.orderId,Q=v().BASE_URL_UPLOADS,X=function(){var e=x(a().mark((function e(){var n,t,i,s,l,r,d,o,u,v,h;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=4,c.Z.orderDetails.GET_ORDER_DETAILS_BY_ID(H);case 4:h=e.sent,console.log("================",h.data),g(null===h||void 0===h||null===(n=h.data)||void 0===n?void 0:n.data),_(null===h||void 0===h||null===(t=h.data)||void 0===t?void 0:t.data[0]),G(null===(s=null===h||void 0===h||null===(i=h.data)||void 0===i?void 0:i.data[0].Product)||void 0===s?void 0:s.averageRating),q(null===(r=null===h||void 0===h||null===(l=h.data)||void 0===l?void 0:l.data[0])||void 0===r||null===(d=r.Product)||void 0===d?void 0:d.id),L(null===(u=null===h||void 0===h||null===(o=h.data)||void 0===o?void 0:o.data[0])||void 0===u||null===(v=u.Order)||void 0===v?void 0:v.id),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=x(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(!0),e.prev=1,n={orderId:H,productId:W,review:k,ratings:P,status:!0},e.next=5,c.Z.review.POST_REVIEW_BY_USER(n);case 5:e.sent&&m.Am.success("Review rating has been submitted successfully"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();(0,l.useEffect)((function(){X()}),[H]),console.log("order ",B);return(0,s.jsx)(d.Z,{parent:p("Home"),sub:(0,s.jsxs)("a",{href:"/myprofile?index=2",children:[" ",(0,s.jsx)(s.Fragment,{children:p("Pages")})]}),subChild:p("Review Reting"),children:(0,s.jsx)("div",{className:"d-flex-inline-block justify-content-center align-item-center ",children:(0,s.jsx)("div",{className:"container m-20 p-20 w-50 ",children:(0,s.jsxs)("div",{className:"container m-20 p-20",children:[(0,s.jsxs)("div",{className:"card",children:[(0,s.jsx)("div",{className:"card-header",children:(0,s.jsxs)("h3",{className:"fw-bold",children:[" ",null===b||void 0===b||null===(n=b.Product)||void 0===n?void 0:n.brandName]})}),(0,s.jsx)("div",{className:"card-body",children:(0,s.jsxs)("div",{className:"d-flex justify-content-start align-item-center ",children:[(0,s.jsxs)("div",{className:" ",children:["  ",(0,s.jsx)("img",{className:"rounded",crossOrigin:"anonymous",src:Q+(null===b||void 0===b||null===(t=b.Product)||void 0===t?void 0:t.image[0]),alt:"Image",height:120,width:100})]}),(0,s.jsxs)("div",{className:"ms-3",children:[(0,s.jsx)("h5",{className:"card-title",children:null===b||void 0===b||null===(i=b.Product)||void 0===i?void 0:i.productName}),(0,s.jsx)("p",{className:"card-text",children:null===b||void 0===b||null===(u=b.Product)||void 0===u?void 0:u.description}),(0,s.jsxs)("span",{className:"fw-bold",children:[p("Total Quantity :")," ",null===b||void 0===b?void 0:b.totalQuantity]}),"\xa0  \xa0 \xa0",(0,s.jsxs)("span",{className:"fw-bold",children:[p("Price :")," ",null===b||void 0===b||null===(f=b.Product)||void 0===f?void 0:f.totalPrice]}),(0,s.jsxs)("div",{className:"d-flex ",children:[(0,s.jsx)("span",{className:"fw-bold",children:"Rating Review  :"})," \xa0",(0,s.jsx)("span",{className:"fw-bold",children:(0,s.jsx)(r.Z,{value:F,count:5,size:20,activeColor:"#ffd700",isHalf:!0,edit:!1})})]})]})]})})]}),(0,s.jsxs)("div",{className:"contanier d-flex-inline-block justify-content-center align-item-center p-20",children:[(0,s.jsxs)("div",{className:"",children:[(0,s.jsx)("h4",{children:p("Rating star")}),(0,s.jsx)("div",{className:"mt-10 p-10",children:(0,s.jsx)(r.Z,{count:5,onChange:function(e){e<1?(D(!0),R("")):(R(e),D(!1),console.log(e))},size:37,activeColor:"#ffd700"})})]}),(0,s.jsxs)("div",{className:"mt-10",children:[(0,s.jsx)("h4",{children:p("Add a written review")}),(0,s.jsx)("textarea",{className:"form-control mt-10",value:k,onChange:function(e){""==e.target.value?(I("Required"),D(!0)):(I(""),D(!1),E(e.target.value)),E(e.target.value)},placeholder:p("What did you like or dislike? What did you use this product for"),id:"exampleFormControlTextarea1",style:{height:"100px"},rows:"5",cols:"10"}),T&&(0,s.jsx)("span",{className:"text-danger",children:T}),(0,s.jsxs)("div",{className:"mt-10",children:[" ",(0,s.jsx)("button",{className:"btn btn-primary float-end",disabled:A,onClick:Y,children:p("Submit Review")})]})]})]}),(0,s.jsx)("div",{})]})})})})};p.propTypes={},p.defaultProps={},n.default=p}},function(e){e.O(0,[664,30,436,695,774,888,179],(function(){return n=1293,e(e.s=n);var n}));var n=e.O();_N_E=n}]);